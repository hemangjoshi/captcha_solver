var recaptcha=function(){"use strict";function ut(e){return e}const ae={equals:(e,t)=>e===t};let Ce=me;const B=1,Y=2;var X=null;let Z=null,Ie=null,w=null,y=null,F=null,_=0;function le(e,t){t=t?Object.assign({},ae,t):ae;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=i=>(typeof i=="function"&&(i=i(r.value)),ue(r,i));return[Oe.bind(r),n]}function xe(e){if(w===null)return e();const t=w;w=null;try{return e()}finally{w=t}}function Oe(){if(this.sources&&this.state)if(this.state===B)fe(this);else{const e=y;y=null,H(()=>V(this)),y=e}if(w){const e=this.observers?this.observers.length:0;w.sources?(w.sources.push(this),w.sourceSlots.push(e)):(w.sources=[this],w.sourceSlots=[e]),this.observers?(this.observers.push(w),this.observerSlots.push(w.sources.length-1)):(this.observers=[w],this.observerSlots=[w.sources.length-1])}return this.value}function ue(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&H(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],u=Z&&Z.running;u&&Z.disposed.has(o),(u?!o.tState:!o.state)&&(o.pure?y.push(o):F.push(o),o.observers&&he(o)),u||(o.state=B)}if(y.length>1e6)throw y=[],new Error})),t}function fe(e){if(!e.fn)return;W(e);const t=_;Pe(e,e.value,t)}function Pe(e,t,r){let n;const i=X,o=w;w=X=e;try{n=e.fn(t)}catch(u){return e.pure&&(e.state=B,e.owned&&e.owned.forEach(W),e.owned=null),e.updatedAt=r+1,ge(u)}finally{w=o,X=i}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?ue(e,n):e.value=n,e.updatedAt=r)}function de(e){if(e.state===0)return;if(e.state===Y)return V(e);if(e.suspense&&xe(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<_);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===B)fe(e);else if(e.state===Y){const n=y;y=null,H(()=>V(e,t[0])),y=n}}function H(e,t){if(y)return e();let r=!1;y=[],F?r=!0:F=[],_++;try{const n=e();return Le(r),n}catch(n){r||(F=null),y=null,ge(n)}}function Le(e){if(y&&(me(y),y=null),e)return;const t=F;F=null,t.length&&H(()=>Ce(t))}function me(e){for(let t=0;t<e.length;t++)de(e[t])}function V(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const i=n.state;i===B?n!==t&&(!n.updatedAt||n.updatedAt<_)&&de(n):i===Y&&V(n,t)}}}function he(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=Y,r.pure?y.push(r):F.push(r),r.observers&&he(r))}}function W(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),i=r.observers;if(i&&i.length){const o=i.pop(),u=r.observerSlots.pop();n<i.length&&(o.sourceSlots[u]=n,i[n]=o,r.observerSlots[n]=u)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)W(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)W(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ne(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ge(e,t=X){throw Ne(e)}async function Re(e,t,r){if(!e()||e().ACTIVE===!1||e().OPTIONS[r].ENABLED===!1)return!1;function n(u,b){try{return b.includes(u)}catch(E){return console.error("Error parsing URLs:",E),!1}}const i=e().BLACKLIST;return!(n(t(),i)&&e().BLACKLISTENABLED)}const Fe="0.1.7",Me=(e,t)=>{const r=document.createElement("div");r.style.cssText="position:fixed;top:8%;left:0;background-color:rgba(0,0,0,.6);padding:2px;color:#fff;font:calc(14px + .5vw) 'Arial',sans-serif;font-weight:bold;text-transform:uppercase;letter-spacing:1px;z-index:9999;transition:all 1s;animation:slideIn 1s forwards",r.innerHTML=`<p>${e}. Retrying in..<span id="countdown">${t}</span></p>`,document.body.appendChild(r),(()=>{const o=document.getElementById("countdown");if(!o)return;let u=t;const b=setInterval(()=>{u--,o.textContent=u,u<=0&&clearInterval(b)},1e3)})();const i=document.createElement("style");i.innerHTML="@keyframes slideIn{0%{transform:translateX(-100%)}100%{transform:translateX(0)}}@keyframes slideOut{0%{transform:translateX(0)}100%{transform:translateX(100%)}}",document.head.appendChild(i),setTimeout(()=>{r.style.animation="slideOut 1s forwards",setTimeout(()=>{document.body.removeChild(r)},1e3)},t*1e3)},M=e=>document.querySelector(e),pe=e=>document.querySelectorAll(e);function we(){return M(".task-answers")!==null}function ye(){return pe(".task-image .image").length===9}function be(){return M(".bounding-box-example")!==null}function De(){return M(".challenge-header")!==null&&M(".bounding-box-example")===null&&M(".task-grid")==null}function Be(){const e=document.body.getBoundingClientRect();return e?.width===0||e?.height===0?!1:document.querySelector("div.check")!==null}function D(e){return new Promise(t=>setTimeout(t,e))}function Ue(e,t){return Math.floor(Math.random()*(t-e)+e)}function $e(){try{const e=document.querySelector("div.check");return e&&e.style.display==="block"}catch(e){return console.error(e),!1}}async function Ye(e){const t=await(await fetch(e,{headers:{"if-none-match":'"CFDAD5AA0CE4A3068FF1CABAC59E4D9D"'},host:"https://domain.com"})).blob();return await Xe(t)}async function Xe(e){return new Promise(t=>{const r=new FileReader;r.readAsDataURL(e),r.addEventListener("loadend",()=>{const n=r.result.replace(/^data:image\/(png|jpeg);base64,/,"");t(n)}),r.addEventListener("error",()=>{logs&&console.log("❌ Failed to convert url to base64")})})}async function Ee(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch the URL: ${e}`);const r=await t.blob();return new Promise((n,i)=>{const o=new FileReader;o.readAsDataURL(r),o.addEventListener("loadend",()=>{n(o.result.replace(/^data:image\/(png|jpeg);base64,/,""))}),o.addEventListener("error",()=>{console.error("❌ Failed to read blob as base64"),i("Failed to read blob")})})}catch(t){return console.error(`❌ Failed to convert URL to base64: ${e}`,t),null}}function _e(){document.querySelectorAll("iframe").forEach(t=>{t.src=t.src})}async function He(){be()?(await D(200),document.querySelector(".display-language.button").click(),await D(100),document.querySelector(".language-selector .option:nth-child(23)").click()):ye()?(await D(100),document.querySelector(".language-selector .option:nth-child(23)").click()):we()&&(document.querySelector(".display-language.button").click(),await D(200),document.querySelector(".language-selector .option:nth-child(23)").click(),await D(200))}function Ve(){document.querySelector(".button-submit").click()}async function We(){const e=navigator.userAgent;let t,r=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(r[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],`IE ${t[1]||""}`):r[1]==="Chrome"&&(t=e.match(/\b(OPR|Edge)\/(\d+)/),t!=null)?t.slice(1).join(" ").replace("OPR","Opera"):(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],(t=e.match(/version\/(\d+)/i))!=null&&r.splice(1,1,t[1]),{version:r,platform:navigator.platform})}function Ge(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}function ee(e){["mouseover","mousedown","mouseup","click"].forEach(t=>{if(e.fireEvent)e.fireEvent("on"+t);else{const r=document.createEvent("MouseEvents");r.initEvent(t,!0,!1),e.dispatchEvent(r)}})}function te(e,t,r,n,i,o,u){e.dispatchEvent(new MouseEvent(t,{bubbles:!0,clientX:r,clientY:n,buttons:i,button:o,pressure:u}))}async function Ke(e,t){const r=document.querySelector("canvas");if(e!==void 0)for(const{start:n,end:i}of e)if(Array.isArray(n)&&n.length!==0&&Array.isArray(i)&&i.length!==0){const[o,u]=n,[b,E]=i,g=r.getBoundingClientRect(),v=o+g.left,A=u+g.top,k=b+g.left,S=E+g.top;te(r,"mousedown",v,A,1,0,1),await new Promise(P=>setTimeout(P,t));const C=k-v,T=S-A,N=Math.sqrt(C**2+T**2),I=Math.round(N/6),U=C/I,q=T/I;for(let P=1;P<=I;P++){const se=v+U*P,ie=A+q*P;te(r,"mousemove",se,ie,1,0,1),await new Promise(oe=>setTimeout(oe,50))}te(r,"mouseup",k,S,0,0,0)}else G.$(".button-submit").click();else G.$(".button-submit").click()}async function Je(e){function t(o,u,b){const E=o.getBoundingClientRect(),g=["mouseover","mousedown","mouseup","click"],v={clientX:u+E.left,clientY:b+E.top,bubbles:!0};for(let A=0;A<g.length;A++){const k=new MouseEvent(g[A],v);o.dispatchEvent(k)}}const r=document.querySelector("canvas");r.addEventListener("mousedown",o=>{const u=r.getBoundingClientRect();o.clientX-u.left,o.clientY-u.top});const[n,i]=e;t(r,n,i),await G.sleep(300)}async function je(e,t){const r=(await chrome.storage.local.get("customEndpoint")).customEndpoint;return t==="custom"?`https://${r}/${e}`:"https://api.captchasonic.com/createTask"}async function Qe(e){for(const t of e){const r=[...document.querySelectorAll(".answer-text")].find(n=>n.outerText===t);ee(r),[...document.querySelectorAll(".answer-example")].some(n=>n.style.backgroundColor==="rgb(116, 116, 116)")||ee(r)}}async function ze(){const e=document.querySelector("canvas");if(!e)return null;const[t,r]=[e.width,e.height],i=e.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,t,r,{willReadFrequently:!0});if((S=>{const C=S.data;for(let T=0;T<C.length;T+=4){const N=C[T],I=C[T+1],U=C[T+2];if(N!==I||I!==U)return!1}return!0})(i))return null;const u=parseInt(e.style.width,10),b=parseInt(e.style.height,10);if(u<=0||b<=0)return null;const E=Math.min(u/t,b/r),[g,v]=[t*E,r*E],A=document.createElement("canvas");return Object.assign(A,{width:g,height:v}),A.getContext("2d",{willReadFrequently:!0}).drawImage(e,0,0,t,r,0,0,g,v),A.toDataURL("image/jpeg").replace(/^data:image\/(png|jpeg);base64,/,"")}function Ze(e){return[...document.querySelectorAll(`${e}`)].map(t=>t.style.backgroundImage.replace(/url\("|"\)/g,""))}function et(e){return Promise.all(e.map(async(t,r)=>(e[r]=await Ee(t),e[r])))}async function tt(e,t,r){const n=e.getBoundingClientRect(),i=n.left+window.scrollX,o=n.top+window.scrollY,u=i+t,b=o+r,E=new MouseEvent("mousedown",{clientX:i,clientY:o,bubbles:!0});e.dispatchEvent(E),await new Promise(S=>setTimeout(S,1e3));const g=20,v=(u-i)/g,A=(b-o)/g;for(let S=1;S<=g;S++){const C=i+v*S,T=o+A*S,N=new MouseEvent("mousemove",{clientX:C,clientY:T,bubbles:!0});e.dispatchEvent(N),await new Promise(I=>setTimeout(I,150))}const k=new MouseEvent("mouseup",{clientX:u,clientY:b,bubbles:!0});e.dispatchEvent(k),await new Promise(S=>setTimeout(S,1e3))}async function rt(e,t,r){try{const i=await(await fetch(e,{method:"POST",headers:r,body:JSON.stringify(t)})).json();if(i.code!==200){const o=i.msg;if(o){if(i.code===1||i.code===10||i.code===18||i.code===110){chrome.runtime.sendMessage({action:o}),stop=!0;return}if(i.code===17||i.code===19||i.code===429){chrome.runtime.sendMessage({action:o}),stop=!0;return}if([4,3,12,13,14,115].includes(i.code))return document.querySelector(".geetest_refresh").click(),null}}return i}catch(n){throw console.error("Error fetching coordinates:",n),n}}async function nt(e){try{const t=await fetch("https://feedback.captchasonic.com/extFeedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const r=await t.json();return console.log("Success:",r),r}catch(t){return console.error("Error sending feedback:",t),null}}const G={version:Fe,$:M,$$:pe,isMulti:we,isGrid:ye,isBbox:be,isBboxDD:De,isWidget:Be,sleep:D,randTimer:Ue,isSolved:$e,countdownNotif:Me,getBase64FromUrl:Ee,refreshIframes:_e,getEn:He,skip:Ve,getBrowser:We,shuffle:Ge,fireMouseEvents:ee,getCanvas:Je,handleCanvasDD:Ke,getApi:je,clickMatchingElement:Qe,sliceOG:ze,updateExamples:et,getExamples:Ze,solveGeetestCaptcha:tt,sendCoordinatesRequest:rt,geeFetchImage:Ye,sendFeedback:nt},st={matches:["<all_urls>"],allFrames:!0,async main(){const[e]=le(window.location.host),[t,r]=le(await chrome.storage.local.get("settings"));if(r(t().settings),chrome.runtime.onMessage.addListener((a,s,c)=>{if(a.action==="ReCaptcha_refresh_iframes"){const l=[...document.querySelectorAll("[src*=recaptcha]")];if(l)for(const d of l){const m=d.src;d.src="about:blank",setTimeout(()=>{d.src=m},100)}for(let d=0;d<l.length;d++){const m=l[d];try{m.contentWindow.location.origin!==window.location.origin&&(m.src=m.src)}catch{m.src=m.src}}}}),!await Re(t,e,"RECAPTCHA2"))return;let o=!1,u=t().LOGENABLED==="true";async function b(a,s){const c=document.querySelectorAll(".rc-image-tile-wrapper"),l={};async function d(m,p){const L=await Promise.all(Array.from(c).map(async f=>{const h=f.querySelector("img");return h?g(h.src):null})),O=L.every(f=>f!==null);return!O&&m>0?(await new Promise(f=>setTimeout(f,p)),d(m-1,p)):O?(L.forEach((f,h)=>{l[h]=f}),l):null}switch(a){case"split_33":return d(10,1e3);case"33":case"44":return await g(s);default:return{}}}class E{static now(){return Date.now()}static currentDate(){return new Date}static sleep(s){return new Promise(c=>setTimeout(c,s))}static async randomSleep(s,c){const l=Math.floor(Math.random()*(c-s)+s);return await E.sleep(l)}}async function g(a){try{const s=await fetch(a);if(!s.ok)throw new Error(`Failed to fetch URL: ${s.status} ${s.statusText}`);const c=await s.blob();return new Promise((l,d)=>{const m=new FileReader;m.onloadend=()=>l(m.result.replace(/^data:image\/(png|jpeg);base64,/,"")),m.onerror=d,m.readAsDataURL(c)})}catch(s){throw s}}async function v(a){document.contains(a)&&["mouseover","mousedown","mouseup","click"].forEach(s=>{const c=document.createEvent("MouseEvents");c.initEvent(s,!0,!1),a.dispatchEvent(c)})}async function A(){await v(document.querySelector("#recaptcha-anchor"))}async function k(){let a=document.querySelector("#recaptcha-anchor");return a?(a.getAttribute("aria-checked"),a.getAttribute("aria-checked")==="true"):!1}async function S(){let a=document.querySelector("#recaptcha-reload-button"),s=a?a.disabled:!0;return!!document.querySelector("#rc-imageselect")&&!s}async function C(){return!!document.querySelector(".recaptcha-checkbox")}async function T(){return document.querySelectorAll(".rc-imageselect-tile").length===9}async function N(){return document.querySelectorAll(".rc-imageselect-tile").length===16}async function I(){return document.querySelector("#recaptcha-anchor")?.classList.contains("recaptcha-checkbox-expired")}async function U(){try{const a=document.querySelectorAll("iframe");for(const s of a){const c=s.src;s.src="about:blank",await new Promise(l=>{s.onload=()=>{s.onload=null,s.src=c,l()}})}}catch{try{const s=document.querySelectorAll("iframe");for(const c of s){const l=c.src;c.src="about:blank",await new Promise(d=>setTimeout(d,50)),c.src=l}}catch{const c=document.querySelectorAll("iframe");for(const l of c)l.src=l.src}}}class q{static query(s,c){const l=document.querySelector(s);return c?l?.getAttribute(c):l}static queryAll(s){return document.querySelectorAll(s)}static isWidgetFrame(){return!!this.query(".recaptcha-checkbox")}static isImageFrame(){return!!this.query("#rc-imageselect")}static isErrorSelect(){return this.query(".rc-imageselect-error-select-more","style")!=="none"}static isErrorDynamic(){return this.query(".rc-imageselect-error-dynamic-more","style")!=="none"}static isSubmitDisabled(){return this.query("#recaptcha-verify-button","disabled")===!0}static isExpired(){return!!this.query(".recaptcha-checkbox-border")}static is11(){return this.queryAll(".rc-image-tile-11").length!==0}static isDynamic33(){return this.queryAll(".rc-imageselect-dynamic-selected").length!==0}static is33(){return this.queryAll(".rc-imageselect-tile").length===9}static is44(){return this.queryAll(".rc-imageselect-tile").length===16}static src11(){return this.query(".rc-image-tile-11","src")}static src44(){return this.query(".rc-image-tile-44","src")}static src33(){return this.query(".rc-image-tile-33","src")}static submit(){this.query("#recaptcha-verify-button")?.click()}static clicAudioBtn(){this.query("#recaptcha-audio-button")?.click()}static reload(){this.query("#recaptcha-reload-button")?.click()}static isSolved(){return this.query(".recaptcha-checkbox","aria-checked")==="true"||this.isSubmitDisabled()}static recapExpired(){return document.querySelector("#recaptcha-anchor")?.classList.contains("recaptcha-checkbox-expired")}static recapSolved(){let s=document.querySelector("#recaptcha-anchor");return s?(s.getAttribute("aria-checked"),s.getAttribute("aria-checked")==="true"):!1}static hasErrors(){return[".rc-imageselect-error-select-more",".rc-imageselect-error-dynamic-more",".rc-imageselect-error-select-something"].some(s=>{const c=this.query(s);return c&&getComputedStyle(c).display!=="none"&&c.tabIndex===0})}static isRateLimited(){return!!this.query(".rc-doscaptcha-header")}static isCellSelected(s){return s?.classList.contains("rc-imageselect-tileselected")}static getTarget(){return this.query(".rc-imageselect-desc strong, .rc-imageselect-desc-no-canonical strong","innerText")}static async refreshIframes(){try{const s=document.querySelectorAll("iframe");for(const c of s){const l=c.src;c.src="about:blank",await new Promise(d=>{c.onload=()=>{c.onload=null,c.src=l,d()}})}}catch{try{const c=document.querySelectorAll("iframe");for(const l of c){const d=l.src;l.src="about:blank",await new Promise(m=>setTimeout(m,50)),l.src=d}}catch{const l=document.querySelectorAll("iframe");for(const d of l)d.src=d.src}}}}let P=null,se=null;async function ie(){const a=q.is44()?"44":await T()?"33":await is11()?"split_33":null;if(!a)return;const[s,c,l]=await oe(),d=a==="split_33"?await b(l,c):{0:await b(l,c)},m=JSON.stringify(d);if(m){if(m===P)return"skip";P=m,at(d,l,s,a)}}async function oe(){const a=await N()?"44":await T()?"33":null;if(!a)return;const s=document.querySelector(".rc-imageselect-instructions strong")?.innerText;if(!s)return;const c=document.querySelector(`.rc-image-tile-${a}`)?.src;if(c)return[s,c,a]}const Q=new Map;for(;o===!1&&t().APIKEY&&t().ACTIVE===!0&&t().OPTIONS.RECAPTCHA2.ENABLED===!0&&t().OPTIONS.RECAPTCHA2.METHOD=="RECOGNITION";)if(await E.sleep(2e3),await C()&&t().OPTIONS.RECAPTCHA2.AUTOOPEN===!0&&!t().BLACKLIST.includes(e())&&t()?.AUTOOPENENABLED)if(await k()){o=!0;return}else await A();else if(await S()){const a=await N()?"44":await T()?"33":null;(a==="33"||a==="44")&&await S()&&!await k()&&t()?.OPTIONS?.RECAPTCHA2?.AUTOSOLVE===!0&&(await ie(),await k()==!0&&(o=!0))}else if(await I())await U(),o=!1;else if(await k()){o=!0;return}async function $(){await v(document.querySelector("#recaptcha-verify-button"))}async function Se(a,s,c){const l="https://api.captchasonic.com/createTask",d={"Content-Type":"application/json",APIKEY:t().APIKEY};if(t().LOGENABLED&&!a)return;const m=Object.values(a),p=JSON.stringify({target:s,type:c,img:m}),L=10;if(Q.has(p))return Q.get(p);async function O(h,R=0){return new Promise((qe,ke)=>{const lt={type:"networkRequest",payload:{url:l,method:"POST",headers:d,body:JSON.stringify({apiKey:t().APIKEY,source:"chrome",version:G.version,task:{type:"ReCaptchaV2Image",questionType:c,queries:h,question:s,websiteURL:e(),metadata:{pageURL:e(),title:"reCAPTCHA"}}})}};chrome.runtime.sendMessage(lt,z=>{if(!z)return ke(new Error("No response received from chrome.runtime.sendMessage."));z.success?qe(z.data):ke(new Error(z.error||"Request failed"))})}).catch(async qe=>{if(R>=L)throw new Error("Max retries reached. Request failed.");return await x(2e3),O(h,R+1)})}const f=O(m).then(h=>{if(h.code!==200){`${h.retryAfterSec}`,`${h.retryAfterSec}`,`${h.retryAfterSec}`;const R=h.msg;if(R){if([1,10,18,110].includes(h.code)){chrome.runtime.sendMessage({action:R}),o=!0;return}else if([17,19,429].includes(h.code)){chrome.runtime.sendMessage({action:R}),o=!0;return}else if([4,3,12,13,14,115].includes(h.code))return $()}}return h}).finally(()=>{Q.delete(p)});return Q.set(p,f),f}async function at(a,s,c,l,d){const m=document.querySelector(".rc-imageselect-desc-no-canonical strong")?.textContent;if(!a)return;const p=await Se(a,c||m,s),L=document.querySelectorAll(".rc-image-tile-wrapper");if(!L)return;const O=await Te(p);if(O){for(const f of O)await v(L[f]),await x(100);if(q.isDynamic33()===!1&&(ce("dynamic",q.isDynamic33()),await x(1e3),$(),q.isErrorSelect()||q.isErrorDynamic()))return ce("error found, skipping"),q.reload();if(l)return Ae(c,O);await x(1e3),$()}}async function Ae(a,s){for(;!o&&document.querySelectorAll(".rc-image-tile-11").length<s.length;)await x(150);const c=document.querySelectorAll(".rc-image-tile-wrapper img"),l={};if(!s)return;for(const f of s)f>=0&&f<c.length&&(Number.isInteger(f)&&(l[f]=await g(c[f].src)),typeof f=="boolean"&&f===!0&&(l[s.indexOf(f)]=await g(c[s.indexOf(f)].src)));const d=JSON.stringify(l);if(d===JSON.stringify(se)||d==="{}")return;const m=await Se(l,a,"split_33");if(!m)return;const p=await Te(m);if(!p)return;const L=p.every(f=>typeof f=="number");if(p.every(f=>typeof f=="boolean")&&!p.some(h=>h===!0))return await x(1e3),$(),q.isErrorSelect()||q.isErrorDynamic()?q.reload():void 0;if(L&&p.length==0)return await x(1e3),$(),q.isErrorSelect()||q.isErrorDynamic()?q.reload():void 0;for(const f of p)if(Number.isInteger(f)&&(await v(c[f]),await x(100)),typeof f=="boolean"){const h=p.indexOf(!0),R=Object.keys(l)[h];await v(c[R]),await x(100)}await x(1e3),Ae(a,p)}async function Te(a){if(a!==void 0&&(a.answers||a.answers))return a.answers}function x(a){return new Promise(s=>setTimeout(s,a))}function ce(){t().LOGENABLED}}},ve=globalThis.browser?.runtime?.id==null?globalThis.chrome:globalThis.browser;function K(e,...t){}const it={debug:(...e)=>K(console.debug,...e),log:(...e)=>K(console.log,...e),warn:(...e)=>K(console.warn,...e),error:(...e)=>K(console.error,...e)};class re extends Event{constructor(t,r){super(re.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=r}static EVENT_NAME=ne("wxt:locationchange")}function ne(e){return`${ve?.runtime?.id}:reCaptcha:${e}`}function ot(e){let t,r;return{run(){t==null&&(r=new URL(location.href),t=e.setInterval(()=>{let n=new URL(location.href);n.href!==r.href&&(window.dispatchEvent(new re(n,r)),r=n)},1e3))}}}class J{constructor(t,r){this.contentScriptName=t,this.options=r,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=ne("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=ot(this);get signal(){return this.abortController.signal}abort(t){return this.abortController.abort(t)}get isInvalid(){return ve.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,r){const n=setInterval(()=>{this.isValid&&t()},r);return this.onInvalidated(()=>clearInterval(n)),n}setTimeout(t,r){const n=setTimeout(()=>{this.isValid&&t()},r);return this.onInvalidated(()=>clearTimeout(n)),n}requestAnimationFrame(t){const r=requestAnimationFrame((...n)=>{this.isValid&&t(...n)});return this.onInvalidated(()=>cancelAnimationFrame(r)),r}requestIdleCallback(t,r){const n=requestIdleCallback((...i)=>{this.signal.aborted||t(...i)},r);return this.onInvalidated(()=>cancelIdleCallback(n)),n}addEventListener(t,r,n,i){r==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),t.addEventListener?.(r.startsWith("wxt:")?ne(r):r,n,{...i,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),it.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:J.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName},"*")}listenForNewerScripts(t){let r=!0;const n=i=>{if(i.data?.type===J.SCRIPT_STARTED_MESSAGE_TYPE&&i.data?.contentScriptName===this.contentScriptName){const o=r;if(r=!1,o&&t?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",n),this.onInvalidated(()=>removeEventListener("message",n))}}function dt(){}function j(e,...t){}const ct={debug:(...e)=>j(console.debug,...e),log:(...e)=>j(console.log,...e),warn:(...e)=>j(console.warn,...e),error:(...e)=>j(console.error,...e)};return(async()=>{try{const{main:e,...t}=st,r=new J("reCaptcha",t);return await e(r)}catch(e){throw ct.error('The content script "reCaptcha" crashed on startup!',e),e}})()}();
recaptcha;
